{% extends "_layouts/generic-page-layout.twig" %}

{% block title %}{{ entry.title ~ ' - ' ~ siteName }}- {% endblock %}

{% block content %}
    <div class="max-w-4xl mx-auto">
        <!-- Page Header -->
        <header class="text-center mb-12 space-y-6">
            <div class="flex items-center justify-center mb-8">
                <div class="h-px bg-gradient-to-r from-transparent via-coral-300 to-transparent flex-1"></div>
                <div class="mx-6">
                    <svg class="w-8 h-8 text-coral-400" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    </svg>
                </div>
                <div class="h-px bg-gradient-to-r from-coral-300 via-transparent to-transparent flex-1"></div>
            </div>

            <h1 class="text-4xl md:text-5xl lg:text-6xl font-serif font-semibold text-ocean-800 leading-tight">
                {{ entry.title }}
            </h1>

            <div class="w-24 h-1 bg-gradient-to-r from-coral-400 to-sand-400 mx-auto rounded-full"></div>
        </header>

        <!-- Page Content -->
        <article class="prose prose-lg md:prose-xl max-w-none
                        prose-headings:font-serif prose-headings:text-ocean-800 prose-headings:leading-tight
                        prose-h1:text-4xl prose-h1:md:text-5xl prose-h1:mb-8 prose-h1:text-center
                        prose-h2:text-3xl prose-h2:md:text-4xl prose-h2:mt-12 prose-h2:mb-6 prose-h2:text-ocean-700
                        prose-h3:text-2xl prose-h3:md:text-3xl prose-h3:mt-10 prose-h3:mb-4 prose-h3:text-ocean-700
                        prose-h4:text-xl prose-h4:md:text-2xl prose-h4:mt-8 prose-h4:mb-3 prose-h4:text-ocean-600
                        prose-p:text-ocean-700 prose-p:leading-relaxed prose-p:mb-6
                        prose-a:text-coral-600 prose-a:no-underline prose-a:font-medium hover:prose-a:text-coral-700 hover:prose-a:underline
                        prose-strong:text-ocean-800 prose-strong:font-semibold
                        prose-em:text-ocean-600 prose-em:italic
                        prose-blockquote:border-l-4 prose-blockquote:border-coral-300 prose-blockquote:bg-gradient-to-r prose-blockquote:from-sand-50 prose-blockquote:to-coral-50 prose-blockquote:p-6 prose-blockquote:rounded-r-xl prose-blockquote:not-italic prose-blockquote:text-ocean-700
                        prose-ul:space-y-2 prose-ol:space-y-2
                        prose-li:text-ocean-700 prose-li:leading-relaxed
                        prose-li:marker:text-coral-500
                        prose-code:bg-sand-100 prose-code:text-coral-700 prose-code:px-2 prose-code:py-1 prose-code:rounded prose-code:text-sm
                        prose-pre:bg-ocean-900 prose-pre:text-sand-100
                        prose-hr:border-sand-300 prose-hr:my-12">

            {% for chunk in entry.articleBody %}
                {% switch chunk.type %}
                {% case "image" %}
                    {% include "_components/blocks/image/image.twig" with {
                        image: chunk.image.one(),
                        caption: chunk.title,
                        size: 'large',
                        alignment: 'center'
                    } only %}

                {% case "imageGallery" %}
                    {% set galleryImages = [] %}
                    {% for galleryBlock in chunk.imageGalleryMatrix.all() %}
                        {% set galleryImages = galleryImages|merge([galleryBlock.image.one()]) %}
                    {% endfor %}
                    {% include "_components/blocks/image-gallery/image-gallery.twig" with {
                        images: galleryImages,
                        caption: chunk.title ?? 'Photo Gallery',
                        columns: 3,
                        lightbox: true
                    } only %}

                {% case "pullQuote" %}
                    {% include "_components/blocks/pull-quote/pull-quote.twig" with {
                        quote: chunk.quote,
                        attribution: chunk.attribution,
                        style: 'centered',
                        size: 'medium'
                    } only %}

                {% default %}
                    <div class="tw-leading-4">
                        {{ chunk }}
                    </div>
                {% endswitch %}
            {% endfor %}
        </article>

        <!-- Page Footer / CTA -->
        <footer class="mt-16 pt-12 border-t border-sand-200">
            <div class="text-center space-y-6">
                <h2 class="text-2xl md:text-3xl font-serif font-semibold text-ocean-800">
                    Questions or Want to Learn More?
                </h2>
                <p class="text-lg text-ocean-600 max-w-2xl mx-auto leading-relaxed">
                    We'd love to hear from you! Feel free to reach out with any questions about our mission or how you can get involved.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center pt-6">
                    <a href="/contact"
                       class="inline-flex items-center px-8 py-3 bg-gradient-to-r from-ocean-500 to-ocean-600 text-white font-medium rounded-full hover:from-ocean-600 hover:to-ocean-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
                        Get In Touch
                        <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                    </a>
                    <a href="/blog"
                       class="inline-flex items-center px-8 py-3 border-2 border-ocean-500 text-ocean-600 font-medium rounded-full hover:bg-ocean-50 transform hover:scale-105 transition-all duration-200">
                        Read Our Stories
                        <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                    </a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Add scroll animations for content sections
        document.addEventListener('DOMContentLoaded', function() {
            const contentSections = document.querySelectorAll('article > *');

            const contentObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }, index * 100);
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '50px'
            });

            contentSections.forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                contentObserver.observe(section);
            });

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        });
    </script>
{% endblock %}